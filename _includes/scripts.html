<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
{% if page.title == 'Calendar' %}
{% endif %}
<script src="{{ site.baseurl }}/assets/js/scripts.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-57792737-1', 'auto');
  ga('send', 'pageview');

  $(function(){

  $('#translate').click(function(){
    var widget = $('.translate-widget')
    widget.toggleClass('show');

    if (widget.hasClass('show')){
      widget.attr('aria-hidden', 'false');
    }
    else{
      widget.attr('aria-hidden', 'true');
    }
  })

  {% if page.title == 'Events' %}

    $('.event').addClass('filtered');
    $('#events-schedule').mixItUp({
      animation: {
        enable: false
      },
      selectors: {
        target: '.event'
      },
      layout: {
        display: 'block',
        containerClassFail: 'no-events'
      },
      controls: {
        toggleFilterButtons: true,
        toggleLogic: 'and'
      }
    });

    var today = new Date();
    var today_year = today.getFullYear();
    var today_month = today.getMonth() > 9 ? today.getMonth() + 1 : "0" + (today.getMonth() + 1);
    var today_date = today.getDate() > 9 ? today.getDate() : "0" + today.getDate();

    //make sure dates get concatenated as strings
    var start_today = "" + today_year + "" + today_month + "" + today_date;

    $('#filter-toggle').click(function(){
      $('.filters').slideToggle();
    })

    var single_days = $('.single-day');

    $.each(single_days, function(i){
       if (single_days[i].id < start_today){
         $(single_days[i]).hide();
       }
     });

  {% endif %}

  {% if page.title == 'Calendar' %}
    $('#calendar').fullCalendar({
      header: {
				left: 'prev',
				center: 'title',
        right: 'next'
			},
      events: '{{ site.baseurl }}/events/events.json',
    });
  {% endif %}

  });
</script>
<script type="text/javascript">
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en', includedLanguages: 'es', layout: google.translate.TranslateElement.InlineLayout.SIMPLE, gaTrack: true, gaId: 'UA-57792737-1'}, 'google_translate_element');
}
</script><script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
